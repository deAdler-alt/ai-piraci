"""
Production FastAPI configuration example
Update CORS settings for production deployment
"""
# Example: Update this section in backend/main.py for production

from fastapi.middleware.cors import CORSMiddleware

# Replace the CORS middleware in main.py with this for production:
app.add_middleware(
    CORSMiddleware,
    allow_origins=[
        "https://pirat-ai.yourdomain.com",
        "https://www.pirat-ai.yourdomain.com",
        # Add any other allowed origins
    ],
    allow_credentials=True,
    allow_methods=["GET", "POST", "OPTIONS"],
    allow_headers=["*"],
    max_age=3600,  # Cache preflight requests for 1 hour
)

# Alternative: Use environment variable for origins
# import os
# ALLOWED_ORIGINS = os.getenv("ALLOWED_ORIGINS", "").split(",")
# app.add_middleware(
#     CORSMiddleware,
#     allow_origins=[origin.strip() for origin in ALLOWED_ORIGINS if origin.strip()],
#     allow_credentials=True,
#     allow_methods=["GET", "POST", "OPTIONS"],
#     allow_headers=["*"],
# )



